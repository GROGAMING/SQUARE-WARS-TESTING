<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SQUARE WARS</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Your external stylesheet -->
    <link rel="stylesheet" href="styles.css?v=2" />
  </head>
  <body>
    <!-- Mode Select Modal -->
    <div id="modeSelectModal" class="modal-overlay">
      <div class="modal">
        <h2>Choose Game Mode</h2>
        <p>Select how you want to play SQUARE WARS:</p>
        <button class="single-player" onclick="setGameMode('single')">
          ğŸ”´ Single Player<br /><small>vs Computer</small>
        </button>
        <button onclick="setGameMode('multi')">
          ğŸ”µ Multiplayer<br /><small>2 Players</small>
        </button>
      </div>
    </div>

    <!-- Difficulty Select Modal -->
    <div id="difficultySelectModal" class="modal-overlay hidden">
      <div class="modal">
        <h2>Choose Difficulty</h2>
        <p>Select the AI difficulty level:</p>
        <button class="beginner" onclick="setDifficulty('beginner')">
          ğŸŸ¢ Beginner<br /><small>Fast & Friendly</small>
        </button>
        <button class="medium" onclick="setDifficulty('medium')">
          ğŸŸ¡ Medium<br /><small>Balanced Challenge</small>
        </button>
        <button class="advanced" onclick="setDifficulty('advanced')">
          ğŸ”´ Advanced<br /><small>Tough Opponent</small>
        </button>
        <button class="impossible" onclick="setDifficulty('impossible')">
          ğŸŸ£ Impossible<br /><small>Perfect Play</small>
        </button>
      </div>
    </div>

    <!-- Instructions Modal -->
    <div id="instructionsModal" class="modal-overlay hidden">
      <div class="modal">
        <h2>How to Play SQUARE WARS</h2>
        <p>
          Drop your discs into the grid and try to connect four in a row â€”
          horizontally, vertically, or diagonally. When a player connects four,
          that area of the board becomes blocked off with a black outline. The
          game continues until the board is full. Score points for each
          four-in-a-row you make. Can you outsmart your opponent and control the
          grid?
        </p>
        <button onclick="closeInstructions()">Got it, let's play!</button>
      </div>
    </div>

    <!-- End Game Modal -->
    <div id="endGameModal" class="modal-overlay hidden" aria-hidden="true">
      <div class="modal">
        <h2 id="endGameTitle">Game Over</h2>
        <p id="endGameSubtitle">Winner: <strong>â€”</strong></p>
        <button id="tryAgainBtn">ğŸ”„ Try Again</button>
        <button id="changeModeBtn">ğŸ› ï¸ Change Mode</button>
      </div>
    </div>

    <h1 id="gameTitle">Grid Connect Four</h1>

    <div class="game-info">
      <div class="scores">
        <div class="score player1" id="redScore">
          <span class="player-icon">ğŸ”´</span
          ><span id="redLabel">Player 1 (Red)</span>:
          <span id="redGames">0</span>
        </div>
        <div class="score player2" id="blueScore">
          <span class="player-icon">ğŸ”µ</span
          ><span id="blueLabel">Player 2 (Blue)</span>:
          <span id="blueGames">0</span>
        </div>
      </div>
      <div class="current-player-banner" id="currentPlayerBanner">
        Current Player:
        <span id="currentPlayer" class="player1">Player 1 (Red)</span>
      </div>
    </div>

    <div class="grid-container">
      <div class="grid" id="gameGrid"></div>
      <div
        id="outlineLayer"
        style="
          position: absolute;
          inset: 12px;
          pointer-events: none;
          z-index: 20;
        "
      ></div>
    </div>

    <div class="controls">
      <button onclick="startNewGame()">ğŸ® New Game</button>
    </div>

    <!-- Your external script (keep this as the last thing before </body>) -->
    <script type="module" src="./js/script.js?v=3"></script>
  </body>
</html>
